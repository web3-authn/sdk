{"version":3,"file":"ProfileDropdown2.js","names":[],"sources":["../../../../../src/react/components/ProfileSettingsButton/ProfileDropdown.tsx"],"sourcesContent":["import { forwardRef } from 'react';\nimport { MenuItem } from './MenuItem';\nimport { LogoutMenuItem } from './LogoutMenuItem';\nimport { TransactionSettingsSection } from './TransactionSettingsSection';\nimport type { ProfileDropdownProps } from './types';\nimport './ProfileDropdown.css';\n\ninterface ProfileDropdownWithRefs extends Omit<ProfileDropdownProps, 'menuItemsRef'> {\n  menuItemsRef: React.MutableRefObject<(HTMLElement | null)[]>;\n  // Transaction settings props\n  currentConfirmConfig?: any;\n  onToggleShowDetails?: () => void;\n  onToggleSkipClick?: () => void;\n  onSetDelay?: (delay: number) => void;\n  onToggleTheme?: () => void;\n  transactionSettingsOpen?: boolean;\n}\n\nexport const ProfileDropdown = forwardRef<HTMLDivElement, ProfileDropdownWithRefs>(\n  ({\n    isOpen,\n    menuItems,\n    useRelayer,\n    onRelayerChange,\n    onLogout,\n    onClose,\n    menuItemsRef,\n    toggleColors,\n    currentConfirmConfig,\n    onToggleShowDetails,\n    onToggleSkipClick,\n    onSetDelay,\n    onToggleTheme,\n    transactionSettingsOpen = false,\n    theme = 'dark',\n  }, ref) => {\n    // Only count transaction settings if it's actually rendered (when expanded)\n    const hasTransactionSettings = transactionSettingsOpen && currentConfirmConfig && onToggleShowDetails && onToggleSkipClick && onSetDelay;\n    const totalItems = menuItems.length + (hasTransactionSettings ? 3 : 2); // menuItems + (transaction settings if expanded) + relayer toggle + logout\n\n    return (\n      <div\n        ref={ref}\n        className={`w3a-profile-dropdown-morphed ${theme}`}\n        data-state={isOpen ? 'open' : 'closed'}\n      >\n        <div className=\"w3a-profile-dropdown-menu\">\n\n          {/* Menu Items */}\n          {menuItems.map((item, index) => (\n            <MenuItem\n              key={index}\n              ref={(el) => {\n                if (menuItemsRef.current) {\n                  menuItemsRef.current[index + 1] = el;\n                }\n              }}\n              item={item}\n              index={index}\n              onClose={onClose}\n              className=\"\"\n              // Set CSS variable to calculate stagger delay in CSS stylesheet\n              style={{ ['--stagger-item-n' as any]: index }}\n            />\n          ))}\n\n          {/* Transaction Settings Section - Always render with animation */}\n          {currentConfirmConfig && onToggleShowDetails && onToggleSkipClick && onSetDelay && (\n            <TransactionSettingsSection\n              currentConfirmConfig={currentConfirmConfig}\n              onToggleShowDetails={onToggleShowDetails}\n              onToggleSkipClick={onToggleSkipClick}\n              onSetDelay={onSetDelay}\n              onToggleTheme={onToggleTheme}\n              isOpen={transactionSettingsOpen}\n              theme={theme}\n              // Set CSS variable to calculate stagger delay in CSS stylesheet\n              style={{ ['--stagger-item-n' as any]: menuItems.length }}\n            />\n          )}\n\n          {/* Logout Section */}\n          <LogoutMenuItem\n            onLogout={onLogout}\n            className=\"w3a-logout-menu-item\"\n            // Set CSS variable to calculate stagger delay in CSS stylesheet\n            style={{ ['--stagger-item-n' as any]: hasTransactionSettings ? menuItems.length + 1 : menuItems.length }}\n          />\n        </div>\n      </div>\n    );\n  }\n);\n"],"mappings":";;;;;;;;AAkBA,MAAa,kBAAkB,YAC5B,EACC,QACA,WACA,YACA,iBACA,UACA,SACA,cACA,cACA,sBACA,qBACA,mBACA,YACA,eACA,0BAA0B,OAC1B,QAAQ,UACP,QAAQ;CAET,MAAM,yBAAyB,2BAA2B,wBAAwB,uBAAuB,qBAAqB;AAC3G,WAAU,UAAU,yBAAyB,IAAI;AAEpE,QACE,oBAAC;EACM;EACL,WAAW,gCAAgC;EAC3C,cAAY,SAAS,SAAS;YAE9B,qBAAC;GAAI,WAAU;;IAGZ,UAAU,KAAK,MAAM,UACpB,oBAAC;KAEC,MAAM,OAAO;AACX,UAAI,aAAa,QACf,cAAa,QAAQ,QAAQ,KAAK;;KAGhC;KACC;KACE;KACT,WAAU;KAEV,OAAO,GAAG,qBAA4B;OAXjC;IAgBR,wBAAwB,uBAAuB,qBAAqB,cACnE,oBAAC;KACuB;KACD;KACF;KACP;KACG;KACf,QAAQ;KACD;KAEP,OAAO,GAAG,qBAA4B,UAAU;;IAKpD,oBAAC;KACW;KACV,WAAU;KAEV,OAAO,GAAG,qBAA4B,yBAAyB,UAAU,SAAS,IAAI,UAAU"}