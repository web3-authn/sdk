{"version":3,"file":"useProfileState.js","names":["refs: ProfileStateRefs"],"sources":["../../../../../../src/react/components/ProfileSettingsButton/hooks/useProfileState.ts"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport type { ProfileStateRefs } from '../types';\n\nexport const useProfileState = () => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  // Refs\n  const buttonRef = useRef<HTMLDivElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const menuItemsRef = useRef<(HTMLElement | null)[]>([]);\n  const refs: ProfileStateRefs = {\n    buttonRef,\n    dropdownRef,\n    menuItemsRef,\n  };\n\n  // Handle click outside to close\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Node;\n\n      // Don't close if clicking inside the button or dropdown\n      if (\n        dropdownRef.current &&\n        buttonRef.current &&\n        !buttonRef.current.contains(target) &&\n        !dropdownRef.current.contains(target)\n      ) {\n        // Don't close if clicking on the AccessKeysModal\n        const accessKeysModal = document.querySelector('.w3a-access-keys-modal-outer');\n        if (accessKeysModal && accessKeysModal.contains(target)) {\n          return;\n        }\n\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleToggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  return {\n    isOpen,\n    refs,\n    handleToggle,\n    handleClose,\n  };\n};"],"mappings":";;;AAGA,MAAa,wBAAwB;CACnC,MAAM,CAAC,QAAQ,aAAa,SAAS;CAGrC,MAAM,YAAY,OAAuB;CACzC,MAAM,cAAc,OAAuB;CAC3C,MAAM,eAAe,OAA+B;CACpD,MAAMA,OAAyB;EAC7B;EACA;EACA;;AAIF,iBAAgB;EACd,MAAM,sBAAsB,UAAsB;GAChD,MAAM,SAAS,MAAM;AAGrB,OACE,YAAY,WACZ,UAAU,WACV,CAAC,UAAU,QAAQ,SAAS,WAC5B,CAAC,YAAY,QAAQ,SAAS,SAC9B;IAEA,MAAM,kBAAkB,SAAS,cAAc;AAC/C,QAAI,mBAAmB,gBAAgB,SAAS,QAC9C;AAGF,cAAU;;;AAId,WAAS,iBAAiB,aAAa;AACvC,eAAa,SAAS,oBAAoB,aAAa;IACtD;CAEH,MAAM,qBAAqB;AACzB,YAAU,CAAC;;CAGb,MAAM,oBAAoB;AACxB,YAAU;;AAGZ,QAAO;EACL;EACA;EACA;EACA"}