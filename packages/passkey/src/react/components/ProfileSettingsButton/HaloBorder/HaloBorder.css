/* Translucent outer shell wrapping solid content */
.w3a-halo-border-root {
  background: transparent;
  border-radius: 2rem;
  padding: var(--w3a-gap-2);
  max-width: 860px;
  width: 100%;
  box-sizing: border-box;
  box-shadow: 2px 6px 10px var(--w3a-halo-border-shadow);
}

.w3a-halo-border-inner {
  background: transparent;
  border: 1px solid transparent;
  border-radius: 2rem;
  padding: 2rem;
  position: relative;
}

.w3a-halo-border-content {
  background: var(--w3a-color-surfacePrimary);
  border: 1px solid var(--w3a-color-borderPrimary);
  border-radius: 2rem;
  padding: 2rem;
  position: relative;
  z-index: 2; /* keep content above the ring */
}

/* Rotating border container using pseudo-elements */
.w3a-rotating-border-container {
  position: relative;
  border-radius: 2rem;
  overflow: visible; /* allow the outside ring to show */
}

/*
  Rotating floating ring using a conic-gradient + mask.
  - --ring-gap   : distance between the content edge and the ring
  - --ring-width : thickness of the ring

  Technique:
  The ::before pseudo-element is inset by the gap, then we use a mask with
  content-box/xor to keep only the padding area (i.e. the ring width).
*/
.w3a-rotating-border-container::before {
  content: '';
  position: absolute;
  /* Extend outside the box so the ring is OUTSIDE */
  inset: calc(-1 * (var(--ring-gap, 8px) + var(--ring-width, 2px)));
  border-radius: calc(2rem + var(--ring-gap, 8px) + var(--ring-width, 2px));
  pointer-events: none;
  z-index: 3; /* sit above content so it's visible */

  /* Animated conic gradient arc */
  background: conic-gradient(
    from var(--w3a-ring-angle, 0deg),
    transparent 0%,
    #4DAFFE 10%,
    #4DAFFE 25%,
    transparent 35%
  );

  /* Keep only the padding area = ring width */
  padding: var(--ring-width, 2px);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  animation: w3a-ring-rotate 1.15s linear infinite;
}

/* Make the custom angle property animatable */
@property --w3a-ring-angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

@keyframes w3a-ring-rotate {
  from { --w3a-ring-angle: 0deg; }
  to { --w3a-ring-angle: 360deg; }
}

/* Legacy styles removed: the new ring implementation supersedes
   the older conic-gradient border approach. */
