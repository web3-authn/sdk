/* Translucent outer shell wrapping solid content */
.w3a-halo-border-root {
  background: transparent;
  border-radius: 2rem;
  padding: 0px;
  max-width: 860px;
  box-sizing: border-box;
  box-shadow: var(--w3a-halo__border-shadow, none);
  /* width: 100%; */
  width: fit-content;
  height: fit-content;
}

.w3a-halo-border-inner {
  background: transparent;
  border: 1px solid transparent;
  border-radius: 2rem;
  padding: var(--w3a-halo__padding, 1rem);
  position: relative;
}

.w3a-halo-border-content {
  background: var(--w3a-halo__inner-background, var(--w3a-colors-colorBackground));
  /* border: 1px solid var(--w3a-colors-borderPrimary); */
  border-radius: var(--w3a-halo__ring-border-radius, 2rem);
  padding: var(--w3a-halo__inner-padding, 2rem);
  position: relative;
  z-index: 2; /* keep content above the ring */
}

/* Rotating border container using pseudo-elements */
.w3a-rotating-border-container {
  position: relative;
  border-radius: 2rem;
  overflow: visible; /* allow the outside ring to show */
}

/*
  Rotating floating ring using a conic-gradient + mask.
  - --w3a-halo__ring-gap   : distance between the content edge and the ring
  - --w3a-halo__ring-width : thickness of the ring
  - --w3a-halo__ring-border-radius : border radius of the rotating arc
  - --w3a-halo__border-shadow : box shadow of the rotating ring
  - --w3a-halo__padding : outer padding of the container
  - --w3a-halo__inner-padding : inner border padding of the container
  - --w3a-halo__inner-background : inner background color of the container

  Technique:
  The ::before pseudo-element is inset by the gap, then we use a mask with
  content-box/xor to keep only the padding area (i.e. the ring width).
*/
.w3a-rotating-border-container::before {
  content: '';
  position: absolute;
  /* Extend outside the box so the ring is OUTSIDE */
  inset: calc(-1 * (var(--w3a-halo__ring-gap, 8px) + var(--w3a-halo__ring-width, 2px)));
  border-radius: calc(var(--w3a-halo__ring-border-radius) + var(--w3a-halo__ring-gap, 8px) + var(--w3a-halo__ring-width, 2px));
  pointer-events: none;
  z-index: 3; /* sit above content so it's visible */

  /* Animated conic gradient arc */
  background: conic-gradient(
    from var(--w3a-ring-angle, 0deg),
    transparent 0%,
    #4DAFFE 10%,
    #4DAFFE 25%,
    transparent 35%
  );

  /* Keep only the padding area = ring width */
  padding: var(--w3a-halo__ring-width, 2px);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  animation: w3a-ring-rotate 1.15s linear infinite;
}

/* Make the custom angle property animatable */
@property --w3a-ring-angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

@keyframes w3a-ring-rotate {
  from { --w3a-ring-angle: 0deg; }
  to { --w3a-ring-angle: 360deg; }
}

/* Legacy styles removed: the new ring implementation supersedes
   the older conic-gradient border approach. */
